<h1>Работа с git</h1>

<h3>Какво е git?</h3>

Терминологията на английски е "distributed version control system". С по-прости думи е система, с която може да се работи от много различни места и позволява добър контрол на версиите на даден софтуер.

<h3>Как да си го инсталираме?</h3>

Отивайки на [download](https://git-scm.com/downloads) страницата на официалният сайт, можем да свалим версията, която отговаря на нашата операционна система.

След като инсталираме програмата, трябва да можем, в който и да е терминал, да напишем `git --version` и да ни изпечата версията на git, която сме инсталирали. Ако обаче ни казва, че не разпознава git като команда, трябва да го добавим в системният път:

Стъпките описани работят за Windows, за Linux и Mac трябва да се мине през подобен процес.

1. Отваряме търсачката
2. Търсим `edit environment variables for your account`
3. Натискаме върху `PATH` в `System variables` секцията и след това `Edit`
4. Добавяме нов път, като натиснем `New`
5. Поставяме пътят на нашата инсталация на git и добавяме *'/cmd'* на края
6. Готови сме за работа!

Сега нека настройм нашият git, за да работи с активният ни акаунт. За целта трябва да изпълним тези команди:

`git config -global user.name "[name]"`
`git config -global user.email "[email]"`

<h3>Как се работи с git?</h3>

<h5>Пример за работно дърво в git:</h5>

![](https://lh3.googleusercontent.com/70jaEZnESXQ6SssU5uI4yO62JBz6xq2sNrrz8bW_ap2CuWUaQlbKs3j6NyRJnvcvYwAugkW8WzNJX21dZ2SMd9O_1TTpKZT-FsBkYSPy4rUSpJSo2C-WPTaLc2jQ8ancyj1TetXQ)

<h5>Как се постига?</h5>

Git работи на база commit-и. Това е главната промяна, която движи процеса. Всеки един клон на графиката по-горе има собствени commit-и. Като ние можем да разклоняваме и сливаме такива клони и техните commit-и.

<h3>Важни команди, които биха ни помогнали:</h3>

1. git config - с тази команда можем да правим промени по конфигурацията на нашия git
2. git init - инициализира repository
3. git status - показва статусът на текъщият branch.
4. git add [file1 fil2 ... fileN] - добавя конкретни файлове, в които има направена промяна.
5. git add . - добавя всички файлове, в които има направена промяна.
6. git commit -m "Commit message" - commit-ва добавените промени от add.
7. git push - публикува commit-ите в remote дървото.
8. git pull - изтегля промените от remote дървото.
9. git branch - позволява управление на branch-овете
10. git fetch - update-ва локалното дърво да вижда промените по remote дървото.
11. git checkout [branch_name] - сменя активният branch, върху който работим.
12. git clone [link/to/repo] - прави локално копие на git repository.
13. git log [--oneline] - дава информация, за commit-ите на дървото, като --oneline опцията ги съкращава на един ред всеки.
14. git reset --hard \<commit-hash> - връща всичко до commit-а, който сме му казали.
15. git merge - използва се, за да сливаме branch-ове

**!!!Важно!!!**
Commit прави само локална промяна в дървото. Push и pull от своя страна синхронизират remote с local repository-тата.

**[Тук](https://dzone.com/articles/top-20-git-commands-with-examples)** можете да намерите и добри примери, как да използвате тези и още команди.

<h3>Как да работим с git от VS Code</h3>

За работа с git използваме **Source Control** менюто. То ще изглежда подобно на това:
![](https://i.ibb.co/Y77xbvw/image.png)

<h3>.gitignore</h3>

.gitgnore е важен компонент от нашите repository-та, защото този файл ни позволява да специфицираме видове файлове или директории, които не искаме да polute-ват нашето repository.

<h5>Пример:</h5>

Имаме проект писан главно на c++. От него генерираме много object файлове, които не са нужни на другите хора, които също работят по проекта. Това е така, защото ако те променят нещо ще искат да компилират кода наново така или иначе. Така че такъв вид файлове са излишни за споделяне в главното репозитори.

Този .gitignore, може да бъде направен на ръка или генериран автоматично.

<h3>Secure Shell Protocol(SSH)</h3>

Git и платформите, които го използват, като Github и Gitlab, работят със secure протоколи. Два от тези са HTTPS и SSH. За да не навлизаме в подробности SSH протоколът е по-добър в енкриптирането и защитата на данните, и също така не трябва да пишете всеки път username и password за authentication.

Ето **[тук](https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/GitHub-SSH-Key-Setup-Config-Ubuntu-Linux)** можете да намерите добре описан guide, за това как да си настроите SSH.

<h1>Работа с външни библиотеки</h1>

<h3>0. Избираме библиотека, с която искаме да работим</h3>

- За целта на това упражнение, ще покажем библиотека за графични приложения. (SFML)

<h3>1. Сваляме библиотеката</h3>

- Библиотеката можем да свалим от официалната им страница на [този](https://www.sfml-dev.org/download/sfml/2.5.1/) линк, или като клонираме [репозиторито](https://github.com/SFML/SFML).

- Ако сте го свалили от сайта, го разархивирайте в някоя папка.

- В папката на проекта трябва да имате следните неща:

![](https://i.ibb.co/BVzCkJD/image.png)

<h3>2. Импортиране на библиотеката</h3>

- Сега можем да си направим специална папка, в която да добавяме нашите библиотеки. (/path/to/libraries/Libraries)

- В тази папка ще направим още една, която ще се казва SFML.

- Вътре ще прехвърлим include, lib папките и по желание bin папката (ще обясним, защо като стигнем до компилацията).

<h3>3. Оправяне на include path</h3>

- Влизайки във VS Code можем да направим тестов проект като [този](https://www.sfml-dev.org/tutorials/2.5/start-linux.php)

- Трябва да намерим нашият c_cpp_properties.json/settings.json файл и в includePath секцията да добавите пътя към include папката на библиотеката.

![](https://i.ibb.co/bJpBg78/image.png)

<h3>4. Компилация</h3>

Тази стъпка е много относителна. Всяка библиотека се компилира по различен начин.

Стъпките за SFML:

- При динамична компилация ни трябват тези команди:

    `g++ -c main.cpp -I SFML_PATH/include` -> генерираме object файлът.

    `g++ main.o -o app.exe -L SFML_PATH/lib -l sfml-graphics -l sfml-window -l sfml-system` -> линкваме object файлът с необходимите библиотеки.

    - След като сме компилирали exe файлът остава да му предоставим всички .dll файлове, които са необходими. За тази цел беше папката /bin, за която ставаше въпрос. Вътре в нея се намират тези библиотеки.

- При статична компилация ни трябват тези команди:

    `g++ -c main.cpp -I SFML_PATH\include` -> генерира object файлът.

    `g++ main.o -L SFML_PATH\lib -l sfml-graphics-s -l sfml-window-s -l sfml-system-s -l opengl32 -l freetype -l winmm -l gdi32 -D SFML_STATIC -o app.exe`

    - По този начин библиотеките са статично линкнати и нямаме нужда от .dll файлове. Нашата програма си работи самостоятелно.